# Jグランツ補助金検索UI

StreamlitベースのWebUIでJグランツの補助金情報を検索・閲覧できます。

## 機能

- **補助金検索**: キーワード、業種、従業員数、地域などで補助金を検索
- **詳細情報表示**: 各補助金の詳細情報を表示
- **統計情報**: 締切期間別・金額規模別の統計を可視化
- **ファイル閲覧**: 添付ファイル（PDF等）の内容をMarkdown形式で表示
- **直感的なUI**: Streamlitによるインタラクティブなインターフェース

## 起動方法

### 1. 依存パッケージのインストール

```bash
pip install -r requirements.txt
```

### 2. MCPサーバーの起動

別のターミナルウィンドウで以下を実行：

```bash
python -m jgrants_mcp_server.core --port 8000
```

サーバーが `http://127.0.0.1:8000` で起動していることを確認してください。

### 3. Streamlitアプリケーションの起動

```bash
streamlit run app.py
```

ブラウザが自動的に開き、UIが表示されます（通常は `http://localhost:8501`）。

## 使い方

### 補助金検索

1. サイドバーの「キーワード」欄に検索したいキーワードを入力（例: "事業"、"IT"、"環境"）
2. 必要に応じて詳細検索オプションを展開して条件を指定：
   - 業種
   - 従業員数
   - 対象地域
   - 並び順・ソート順
3. 「受付中のみ」をチェックすると、現在受付中の補助金のみを検索
4. 「🔍 検索」ボタンをクリック

### 詳細情報の表示

1. 検索結果から気になる補助金の「詳細を表示」ボタンをクリック
2. 補助金の詳細情報が表示されます：
   - 基本情報（補助上限額、受付期間など）
   - 対象条件（地域、業種、従業員数）
   - 詳細説明
   - 添付ファイル一覧

### ファイル内容の表示

1. 詳細情報の「📎 添付ファイル」セクションで「内容表示」ボタンをクリック
2. PDF等のファイルがMarkdown形式で表示されます

### 統計情報の表示

1. サイドバーの「📊 統計情報を表示」ボタンをクリック
2. 以下の情報が表示されます：
   - 総件数
   - 締切期間別の件数（今月、来月、再来月以降）
   - 金額規模別の件数
   - 緊急締切案件（14日以内）
   - 高額補助金（5000万円以上）

## 注意事項

- MCPサーバーが起動していない場合、接続エラーが表示されます
- 大きなPDFファイルの変換には時間がかかる場合があります
- 取得した情報を公開する際は「Jグランツ（jGrants）からの出典」である旨を明記してください

## トラブルシューティング

### MCPサーバーに接続できない

```bash
# MCPサーバーが起動しているか確認
curl http://127.0.0.1:8000/mcp
```

正常に起動している場合、JSON形式のレスポンスが返ります。

### ポート番号の変更

app.pyの以下の行を編集：

```python
MCP_BASE_URL = "http://127.0.0.1:8000"  # ポート番号を変更
```

## 技術スタック

- **フロントエンド**: Streamlit
- **バックエンド連携**: httpx（非同期HTTP通信）
- **データ形式**: JSON
- **MCPサーバー**: FastMCP (jgrants-mcp-server)
